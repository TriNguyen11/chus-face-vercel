"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{442:function(e,t,i){i.d(t,{Z:function(){return s}});var a=i(7437),n=i(2265),l=i(9972);let o=[{value:"EN",icon:"us-flag.png"},{value:"VN",icon:"vn-flag.png"}];function s(e){var t;let{background:i}=e,[s,r]=(0,n.useState)("");return(0,n.useEffect)(()=>{let e=localStorage.getItem("lang");r(null!=e?e:"EN")},[]),(0,a.jsxs)(l.R,{as:"div",value:s,onChange:r,children:[(0,a.jsxs)(l.R.Button,{className:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter(Boolean).join(" ")}("inline-flex px-4 py-2 items-center gap-4"),children:[(0,a.jsx)("img",{src:null===(t=o.filter(e=>e.value===s)[0])||void 0===t?void 0:t.icon,className:"object-contain w-6 h-auto"}),(0,a.jsx)("p",{className:"text-slate-400",children:s}),(0,a.jsx)("svg",{fill:"rgb(148 163 184)",width:24,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M7,10L12,15L17,10H7Z"})})]}),(0,a.jsx)(l.R.Options,{className:"px-4 py-2 items-center bg-white gap-4 shadow",children:o.map((e,t)=>(0,a.jsx)(l.R.Option,{value:e.value,disabled:e.value===s,className:"hover:bg-gray-100",children:(0,a.jsxs)("button",{type:"button",className:"flex items-center w-full gap-4",children:[(0,a.jsx)("img",{src:e.icon,className:"object-center w-6"}),e.value]})},t))})]})}},8840:function(e,t,i){let a;i.r(t),i.d(t,{default:function(){return j}});var n=i(7437),l=i(5763),o=i.n(l),s=i(2265),r=i(9282),c=i(442),d=i(2692),m=i.n(d),h=i(1585),x=i(8424),p=i(5175),g=i.n(p);let u=i(8023),w=e=>{let{shapeProps:t,isSelected:i,onSelect:a,onChange:l,imgSaved:o}=e,r=s.useRef(),c=s.useRef(),[d]=g()("hat.png");return console.log(d,"image"),s.useEffect(()=>{if(i){var e,t,a,n;let i={rotater:{path:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" stroke="#000"><title>box-configurator-edit</title><circle cx="8" cy="8" r="8" style="fill:#000"/><path d="M10.6,7.5c-0.2,0.8-0.6,1.5-1.2,2c-0.1,0.1-0.2,0.1-0.3,0L8.2,9C7.8,9.3,7.4,9.6,6.9,9.8v1.1c0,0.1-0.1,0.2-0.2,0.3c-0.8,0.2-1.6,0.2-2.3,0c-0.1,0-0.2-0.1-0.2-0.3V9.8C3.6,9.6,3.2,9.3,2.8,9L1.9,9.5c-0.1,0.1-0.2,0-0.3,0c-0.5-0.6-0.9-1.3-1.2-2c0-0.1,0-0.2,0.1-0.3l0.9-0.5c-0.1-0.5-0.1-1,0-1.5L0.5,4.6C0.4,4.5,0.4,4.4,0.4,4.3c0.2-0.8,0.6-1.5,1.2-2c0.1-0.1,0.2-0.1,0.3,0l0.9,0.5C3.2,2.4,3.6,2.2,4.1,2V0.9c0-0.1,0.1-0.2,0.2-0.3c0.7-0.2,1.6-0.2,2.3,0c0.1,0,0.2,0.1,0.2,0.3V2c0.5,0.2,0.9,0.4,1.3,0.8l0.9-0.5c0.1-0.1,0.2,0,0.3,0c0.5,0.6,0.9,1.3,1.2,2c0,0.1,0,0.2-0.1,0.3L9.6,5.1c0.1,0.5,0.1,1,0,1.5l0.9,0.5C10.6,7.2,10.6,7.3,10.6,7.5z M7.2,5.9c0-0.9-0.8-1.7-1.7-1.7S3.8,4.9,3.8,5.9s0.8,1.7,1.7,1.7S7.2,6.8,7.2,5.9z"/></svg>',shape:null===(e=c.current)||void 0===e?void 0:e.findOne(".rotater")}};for(let e in null===(t=c.current)||void 0===t||t.nodes([r.current]),null===(a=c.current)||void 0===a||a.getLayer().batchDraw(),i){let t=i[e].shape,a=e.replace("_","-"),l=new x.Z.Path({data:"M0.9,0.5c0.1,0,0.3,0.1,0.3,0.3L1.1,2.9c1-1.4,2.6-2.4,4.5-2.4c2.9,0,5.3,2.4,5.3,5.3c0,2.9-2.4,5.3-5.3,5.3c-1.4,0-2.6-0.5-3.6-1.4c-0.1-0.1-0.1-0.3,0-0.4L2.3,9c0.1-0.1,0.3-0.1,0.4,0c0.7,0.7,1.7,1.1,2.8,1.1c2.3,0,4.2-1.9,4.2-4.2S7.8,1.7,5.5,1.7c-1.7,0-3.2,1-3.8,2.5l2.7-0.1c0.1,0,0.3,0.1,0.3,0.3v0.6c0,0.1-0.1,0.3-0.3,0.3H0.3C0.1,5.2,0,5.1,0,4.9V0.8c0-0.1,0.1-0.3,0.3-0.3H0.9z",fill:"white",scaleX:2,scaleY:2,name:a+"-icon"});l.position(t.position()),l.x(t.x()-11),l.y(t.y()-11),null===(n=c.current)||void 0===n||n.add(l),"top-right"==a&&(t.listening(!1),l.on("click",()=>{alert("delete")}))}}},[i]),(0,n.jsxs)(h.ZA,{children:[(0,n.jsx)(h.Ee,{image:d,onClick:a,onTap:a,ref:r,...t,draggable:!0,onDragEnd:e=>{l({...t,x:e.target.x(),y:e.target.y()})},onTransformEnd:e=>{let i=r.current,a=i.scaleX(),n=i.scaleY();i.scaleX(1),i.scaleY(1),l({...t,x:i.x(),y:i.y(),width:Math.max(i.width()*a),height:Math.max(i.height()*n)})}}),i&&(0,n.jsx)(h.$T,{ref:c,anchorFill:"transparent",borderEnabled:!1,rotateAnchorCursor:"grab",rotateAnchorOffset:40,anchorSize:12,anchorCornerRadius:1e5,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],boundBoxFunc:(e,t)=>{var i,a,n,l,o;let s={rotater:{path:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="#fff"><title>box-configurator-edit</title><circle cx="8" cy="8" r="8" style="fill:#fff"/><path d="M10.6,7.5c-0.2,0.8-0.6,1.5-1.2,2c-0.1,0.1-0.2,0.1-0.3,0L8.2,9C7.8,9.3,7.4,9.6,6.9,9.8v1.1c0,0.1-0.1,0.2-0.2,0.3c-0.8,0.2-1.6,0.2-2.3,0c-0.1,0-0.2-0.1-0.2-0.3V9.8C3.6,9.6,3.2,9.3,2.8,9L1.9,9.5c-0.1,0.1-0.2,0-0.3,0c-0.5-0.6-0.9-1.3-1.2-2c0-0.1,0-0.2,0.1-0.3l0.9-0.5c-0.1-0.5-0.1-1,0-1.5L0.5,4.6C0.4,4.5,0.4,4.4,0.4,4.3c0.2-0.8,0.6-1.5,1.2-2c0.1-0.1,0.2-0.1,0.3,0l0.9,0.5C3.2,2.4,3.6,2.2,4.1,2V0.9c0-0.1,0.1-0.2,0.2-0.3c0.7-0.2,1.6-0.2,2.3,0c0.1,0,0.2,0.1,0.2,0.3V2c0.5,0.2,0.9,0.4,1.3,0.8l0.9-0.5c0.1-0.1,0.2,0,0.3,0c0.5,0.6,0.9,1.3,1.2,2c0,0.1,0,0.2-0.1,0.3L9.6,5.1c0.1,0.5,0.1,1,0,1.5l0.9,0.5C10.6,7.2,10.6,7.3,10.6,7.5z M7.2,5.9c0-0.9-0.8-1.7-1.7-1.7S3.8,4.9,3.8,5.9s0.8,1.7,1.7,1.7S7.2,6.8,7.2,5.9z"/></svg>',shape:null===(i=c.current)||void 0===i?void 0:i.findOne(".rotater")}};for(let e in null===(a=c.current)||void 0===a||a.update(),s){let t=e.replace("_","-"),i=null===(n=c.current)||void 0===n?void 0:n.findOne("."+t),a=null===(l=c.current)||void 0===l?void 0:l.findOne("."+t+"-icon");a.position(i.position()),a.x(a.x()-11),a.y(a.y()-11),null===(o=c.current)||void 0===o||o.getLayer().batchDraw()}return t.width<5||t.height<5?e:t}})]})},f=e=>{let{name:t,action:i}=e;return(0,n.jsx)("button",{type:"button",onClick:i,className:" my-2 md:my-0 md:w-[30%] w-[80%] flex flex-col px-4 py-2 bg-[#45AAF8] opacity-80 items-center rounded-full shadow-lg md:shadow-none transition duration-150 ease-in-out focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-50  ",style:{WebkitBackdropFilter:"blur(10px)"},children:(0,n.jsx)("p",{className:"text-white md:text-sm text-lg font-medium text-center",children:t})},t)};var v=e=>{let{img:t,setLast:i}=e,[a,l]=(0,s.useState)(3),[o,r]=(0,s.useState)(!0),[d,x]=(0,s.useState)(),[p,g]=(0,s.useState)(),[v,b]=(0,s.useState)(),[y,j]=(0,s.useState)(),C=(0,s.useRef)(),k=(0,s.useRef)(null),[N,L]=(0,s.useState)([]),[M,B]=(0,s.useState)({width:0,height:0}),A=[{name:"Add",icon:(0,n.jsx)(n.Fragment,{}),action:()=>{var e,t,i,a;L([...N,{height:null!==(i=null===(e=N[0])||void 0===e?void 0:e.height)&&void 0!==i?i:50,id:0,width:null!==(a=null===(t=N[0])||void 0===t?void 0:t.width)&&void 0!==a?a:50,x:20,y:20}])}},{name:"Delete",icon:(0,n.jsx)(n.Fragment,{}),action:()=>{let e=[...N].filter((e,t)=>t!==d);x(),L(e)}}],E=[{name:"Save",icon:(0,n.jsx)("svg",{className:"stroke-black",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{id:"Edit / Add_Plus_Circle",children:(0,n.jsx)("path",{id:"Vector",d:"M8 12H12M12 12H16M12 12V16M12 12V8M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z",stroke:"",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),action:async()=>{x(null),await new Promise(e=>setTimeout(e,500)),m()(document.getElementById("img-preview-id"),{}).then(async e=>{if(y){let e=y.target===y.target.getStage();e&&x(null)}document.createElement("canvas").appendChild(e),g(e.toDataURL("image/jpeg")),document.getElementById("img-preview-id").getElementsByTagName("img")[0].src=e.toDataURL("image/jpeg"),l(4)})}},{name:"Back",icon:(0,n.jsx)("svg",{className:"stroke-black",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12.0004 9.5L17.0004 14.5M17.0004 9.5L12.0004 14.5M4.50823 13.9546L7.43966 17.7546C7.79218 18.2115 7.96843 18.44 8.18975 18.6047C8.38579 18.7505 8.6069 18.8592 8.84212 18.9253C9.10766 19 9.39623 19 9.97336 19H17.8004C18.9205 19 19.4806 19 19.9084 18.782C20.2847 18.5903 20.5907 18.2843 20.7824 17.908C21.0004 17.4802 21.0004 16.9201 21.0004 15.8V8.2C21.0004 7.0799 21.0004 6.51984 20.7824 6.09202C20.5907 5.71569 20.2847 5.40973 19.9084 5.21799C19.4806 5 18.9205 5 17.8004 5H9.97336C9.39623 5 9.10766 5 8.84212 5.07467C8.6069 5.14081 8.38579 5.2495 8.18975 5.39534C7.96843 5.55998 7.79218 5.78846 7.43966 6.24543L4.50823 10.0454C3.96863 10.7449 3.69883 11.0947 3.59505 11.4804C3.50347 11.8207 3.50347 12.1793 3.59505 12.5196C3.69883 12.9053 3.96863 13.2551 4.50823 13.9546Z",stroke:"",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),action:()=>{i({isActive:!1,imgUrl:t,isBack:!0})}}],F=[{name:"Save & Download",icon:(0,n.jsx)("svg",{className:"stroke-black",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{id:"Edit / Add_Plus_Circle",children:(0,n.jsx)("path",{id:"Vector",d:"M8 12H12M12 12H16M12 12V16M12 12V8M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z",stroke:"",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),action:async()=>{V()}},{name:"Home",icon:(0,n.jsx)("svg",{className:"stroke-black",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{id:"Edit / Add_Plus_Circle",children:(0,n.jsx)("path",{id:"Vector",d:"M8 12H12M12 12H16M12 12V16M12 12V8M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z",stroke:"",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),action:async()=>{window.location.href="/"}},{name:"Back to edit",icon:(0,n.jsx)("svg",{className:"stroke-black",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12.0004 9.5L17.0004 14.5M17.0004 9.5L12.0004 14.5M4.50823 13.9546L7.43966 17.7546C7.79218 18.2115 7.96843 18.44 8.18975 18.6047C8.38579 18.7505 8.6069 18.8592 8.84212 18.9253C9.10766 19 9.39623 19 9.97336 19H17.8004C18.9205 19 19.4806 19 19.9084 18.782C20.2847 18.5903 20.5907 18.2843 20.7824 17.908C21.0004 17.4802 21.0004 16.9201 21.0004 15.8V8.2C21.0004 7.0799 21.0004 6.51984 20.7824 6.09202C20.5907 5.71569 20.2847 5.40973 19.9084 5.21799C19.4806 5 18.9205 5 17.8004 5H9.97336C9.39623 5 9.10766 5 8.84212 5.07467C8.6069 5.14081 8.38579 5.2495 8.18975 5.39534C7.96843 5.55998 7.79218 5.78846 7.43966 6.24543L4.50823 10.0454C3.96863 10.7449 3.69883 11.0947 3.59505 11.4804C3.50347 11.8207 3.50347 12.1793 3.59505 12.5196C3.69883 12.9053 3.96863 13.2551 4.50823 13.9546Z",stroke:"",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),action:()=>{b(!v),document.getElementById("img-preview-id").getElementsByTagName("img")[0].src=t,l(3)}}],S=async e=>{var t;let i;let a=document.getElementById("img-preview-id");a.style.position="relative";let n=a.getElementsByTagName("img")[0],l=document.getElementsByClassName("cropper-bg")[0];null==l||l.remove(),null===(t=n)||void 0===t||t.remove();let o=await fetch(e),s=await o.blob();(n=await u.bufferToImage(s)).style.maxWidth="80vw",n.style.maxHeight="80vw",a.prepend(n),(i=await u.createCanvasFromMedia(n)).id="id-canvas";let c={width:n.width,height:n.height};B({width:n.width,height:n.height}),u.matchDimensions(i,c);let d=await u.detectAllFaces(n).withFaceLandmarks().withFaceDescriptors(),m=u.resizeResults(d,c),h=[];m.forEach((e,t)=>{h.push({y:e.detection.box.y-e.detection.box.height/4,x:e.detection.box.x+e.detection.box.width/5,width:e.detection.box.width>e.detection.box.height?e.detection.box.width/2:e.detection.box.height/2,height:e.detection.box.width>e.detection.box.height?e.detection.box.width/2:e.detection.box.height/2,id:t})}),r(!0),L(h)};(0,s.useEffect)(()=>{S(t)},[v]);let R=e=>{let t=e.target===e.target.getStage();t&&x(null)};window.mobileAndTabletCheck=function(){var e;let t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t};let V=async()=>{k.current.style.display="block",m()(document.getElementById("img-preview-id").getElementsByTagName("img")[0]).then(async e=>{let t=document.createElement("canvas").appendChild(e),i=document.createElement("a");i.download="my-upload-img",i.href=t.toDataURL("image/jpeg"),i.click()})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"fixed top-4 left-4 z-10 ",children:(0,n.jsx)(c.Z,{})}),(0,n.jsx)("section",{className:"text-center py-10 md:space-y-4 space-y-4 max-[415px]:py-0 mt-10",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row  items-center justify-center mt-0",children:[(0,n.jsx)("p",{className:"md:text-[40px] text-[20px] -mb-4 md:mb-0 md:mt-2 ml-[-40%] sm:ml-0 font-light mr-4",children:"Play With"}),(0,n.jsxs)("div",{className:"font-bold relative text-[50px] md:text-[50px] ",children:["Your Image",(0,n.jsx)("img",{className:"w-6 self-start absolute top-0 right-[-20px]",src:"hat.png"})]})]})}),(0,n.jsxs)("div",{className:"md:w-[75vh] w-[100vw] container-lg mx-auto px-4 relative ",style:{boxShadow:" rgba(0, 0, 0, 0.15) 0px 15px 25px, rgba(0, 0, 0, 0.05) 0px 5px 10px",maxWidth:900,backgroundColor:"rgba(254, 251, 240, 0.80)"},children:[(0,n.jsx)("section",{id:"section-pro",className:" overflow-hidden h-full flex flex-col justify-center",children:(0,n.jsxs)("div",{ref:k,id:"img-preview-id",className:"mt-4 relative flex flex-col items-center justify-center mx-auto col-span-7 box-content bg-white md:min-w-[50vh] md:min-h-[50vh]  ",style:{objectFit:"cover"},children:[(0,n.jsx)("img",{htmlFor:"file-input",id:"img-preview",src:"/demo.jpg",style:{}}),o&&3===a&&(0,n.jsx)(h.Hf,{ref:C,style:{position:"absolute",top:0,left:0},id:"container",width:M.width,height:M.height,onMouseDown:e=>{j(e),R(e)},onTouchStart:e=>{j(e),R(e)},children:(0,n.jsx)(h.mh,{children:null==N?void 0:N.map((e,t)=>(0,n.jsx)(w,{shapeProps:e,isSelected:t===d,onSelect:()=>{x(t)},onChange:e=>{let i=N.slice();i[t]=e,L(i)}},t))})})]})}),3===a&&(0,n.jsx)("div",{className:"mt-2 flex justify-center text-xs italic text-gray-400",children:"Face recognition will be automatically applied"}),3===a&&(0,n.jsxs)("div",{className:"mt-4 md:absolute md:right-[-5vw]  lg:right-[-4vw] md:top-[40%]  md:bg-white md:shadow md:rounded-lg grid grid-cols-2 z-10 items-center justify-center md:grid-cols-1 md:p-4 gap-4 md:gap-0 flex-wrap",children:[(0,n.jsx)("p",{className:"hidden md:flex justify-center py-2 px-2 ml-[6px]",children:"EDIT"}),A.map((e,t)=>(0,n.jsx)("button",{type:"button",onClick:e.action,className:"flex justify-center px-4 py-2 bg-white opacity-80 items-center shadow-lg md:shadow-none transition duration-150 ease-in-out focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-50",style:{WebkitBackdropFilter:"blur(10px)",borderBottom:"".concat(t!==A.length-1?"1px":"0px"," solid black"),opacity:.5},children:(0,n.jsx)("div",{className:"ml-2",children:(0,n.jsx)("p",{className:"md:text-sm text-lg font-medium text-right",children:e.name})})},e.name))]}),3===a&&(0,n.jsx)("div",{className:"w-full flex flex-row justify-center py-4 ",children:(0,n.jsx)("div",{className:"flex md:flex-row flex-col items-center justify-around  w-[90%] md:w-[60%] ",children:E.map((e,t)=>(0,n.jsx)(f,{name:e.name,action:e.action}))})}),4===a&&(0,n.jsx)("div",{className:"w-full flex flex-row justify-center py-4 ",children:(0,n.jsx)("div",{className:"flex md:flex-row flex-col items-center justify-between  w-[90%] md:w-[80%] ",children:F.map((e,t)=>(0,n.jsx)(f,{name:e.name,action:e.action}))})})]}),(0,n.jsx)("div",{style:{height:100}})]})},b=i(8023);let y=e=>{let{name:t,action:i}=e;return(0,n.jsx)("button",{type:"button",onClick:i,className:"my-2 md:my-0 md:w-[25%] w-[80%] flex flex-col px-4 py-2 bg-[#45AAF8] opacity-80 items-center rounded-full shadow-lg md:shadow-none transition duration-150 ease-in-out focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-50  ",style:{WebkitBackdropFilter:"blur(10px)"},children:(0,n.jsx)("p",{className:" text-white md:text-sm text-lg font-medium text-right",children:t})},t)};var j=()=>{let e=(0,s.useRef)(null),[t,i]=(0,s.useState)(1),[l,d]=(0,s.useState)(),[m,h]=(0,s.useState)({isActive:!1,imgUrl:null,isBack:!1}),x=(0,s.useRef)(null),p=[{name:"Crop",icon:(0,n.jsx)("svg",{className:"stroke-black",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{id:"Edit / Add_Plus_Circle",children:(0,n.jsx)("path",{id:"Vector",d:"M8 12H12M12 12H16M12 12V16M12 12V8M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z",stroke:"",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),action:async()=>{var t;d(null===(t=e.current)||void 0===t?void 0:t.cropper.getCroppedCanvas().toDataURL())}},{name:"Next",icon:(0,n.jsx)("svg",{className:"stroke-black",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12.0004 9.5L17.0004 14.5M17.0004 9.5L12.0004 14.5M4.50823 13.9546L7.43966 17.7546C7.79218 18.2115 7.96843 18.44 8.18975 18.6047C8.38579 18.7505 8.6069 18.8592 8.84212 18.9253C9.10766 19 9.39623 19 9.97336 19H17.8004C18.9205 19 19.4806 19 19.9084 18.782C20.2847 18.5903 20.5907 18.2843 20.7824 17.908C21.0004 17.4802 21.0004 16.9201 21.0004 15.8V8.2C21.0004 7.0799 21.0004 6.51984 20.7824 6.09202C20.5907 5.71569 20.2847 5.40973 19.9084 5.21799C19.4806 5 18.9205 5 17.8004 5H9.97336C9.39623 5 9.10766 5 8.84212 5.07467C8.6069 5.14081 8.38579 5.2495 8.18975 5.39534C7.96843 5.55998 7.79218 5.78846 7.43966 6.24543L4.50823 10.0454C3.96863 10.7449 3.69883 11.0947 3.59505 11.4804C3.50347 11.8207 3.50347 12.1793 3.59505 12.5196C3.69883 12.9053 3.96863 13.2551 4.50823 13.9546Z",stroke:"",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),action:()=>{var t;h({isActive:!0,imgUrl:null===(t=e.current)||void 0===t?void 0:t.cropper.getCroppedCanvas().toDataURL()}),a=void 0}}],g=e=>{let a;e.preventDefault(),e.dataTransfer?a=e.dataTransfer.files:e.target&&(a=e.target.files);let n=new FileReader;n.onload=()=>{d(n.result)},n.readAsDataURL(a[0]),1===t&&i(2)},u=()=>{};return(0,s.useEffect)(()=>{Promise.all([b.nets.faceRecognitionNet.loadFromUri("models"),b.nets.faceLandmark68Net.loadFromUri("models"),b.nets.ssdMobilenetv1.loadFromUri("models")]).then(()=>u())},[]),(0,s.useEffect)(()=>{2===t&&void 0===a&&document.getElementById("img-preview-id").getElementsByTagName("img")[0]&&(a=new(o())(document.getElementById("img-preview-id").getElementsByTagName("img")[0],{dragMode:"crop",autoCrop:!0,viewMode:3,center:!1,autoCropArea:1,initialAspectRatio:1,aspectRatio:1,scalable:!1,data:{width:500,height:500}}))},[m.isBack]),(0,n.jsx)(n.Fragment,{children:m.isActive?(0,n.jsx)(v,{img:m.imgUrl,setLast:h}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,n.jsx)(c.Z,{})}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center mt-0",children:[(0,n.jsx)("p",{className:"text-[30px] mt-4 ml-[-40%] sm:ml-0",children:"Play With"}),(0,n.jsxs)("span",{className:"font-bold relative text-[40px] md:text-[50px]",children:["Your Image",(0,n.jsx)("img",{className:"w-6 self-start absolute top-0 right-[-20px]",src:"hat.png"})]})]}),(0,n.jsxs)("div",{className:"container-lg mx-auto px-4  bg-white",style:{boxShadow:"md:w-[75vh] w-[70vw] rgba(0, 0, 0, 0.15) 0px 15px 25px, rgba(0, 0, 0, 0.05) 0px 5px 10px",maxWidth:700},children:[(0,n.jsxs)("section",{id:"section-pro",className:"flex flex-col justify-between px-4 py-4",style:{boxShadow:" rgba(0, 0, 0, 0.15) 0px 15px 25px, rgba(0, 0, 0, 0.05) 0px 5px 10px",maxWidth:900},children:[(0,n.jsxs)("div",{className:" relative flex flex-col items-center justify-center mx-auto col-span-7 box-content bg-white  ",id:"img-preview-id",children:[!l&&(0,n.jsx)("img",{ref:x,src:"/demo.jpg",id:"img-preview",className:"object-contain"}),l&&(0,n.jsx)(r.Z,{ref:e,style:{height:"50vh",width:"100%"},initialAspectRatio:1,aspectRatio:1,preview:".img-preview",src:l,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,guides:!0})]}),1===t&&(0,n.jsxs)("div",{className:"mt-4 flex flex-col items-center",children:[(0,n.jsx)("label",{type:"button",htmlFor:"file-input",className:" text-center text-white bg-[#45AAF8] hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-full  py-2 md:w-[25%] w-[80%]  flex flex-col items-center",style:{boxShadow:"(69,170,248) 0px 8px 24px, (69,170,248) 0px 16px 56px, rgba(17, 17, 26, 0.1) 0px 24px 80px"},children:"Upload Image"}),(0,n.jsx)("input",{accept:"image/*",type:"file",id:"file-input",style:{backgroundColor:"##45AAF8"},onChange:g}),(0,n.jsx)("button",{type:"button",onClick:()=>window.location.href="/",className:"my-4 text-white bg-[#45AAF8] hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-md  py-2 md:w-[25%]  w-[80%]  flex flex-col items-center",style:{WebkitBackdropFilter:"blur(10px)"},children:(0,n.jsx)("p",{className:"text-white text-md font-medium text-right",children:"Home"})})]})]}),2===t&&(0,n.jsx)("div",{className:"w-full mt-4",children:(0,n.jsxs)("div",{className:"flex md:flex-row flex-col items-center justify-around",children:[p.map((e,t)=>(0,n.jsx)(y,{name:e.name,action:e.action},t)),(0,n.jsx)("label",{type:"button",htmlFor:"file-input-change",className:"my-2 text-white text-center bg-[#45AAF8] hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-full md:w-[30%] w-[80%] flex flex-col items-center ",style:{padding:0,boxShadow:"(69,170,248) 0px 8px 24px, (69,170,248) 0px 16px 56px, rgba(17, 17, 26, 0.1) 0px 24px 80px"},children:(0,n.jsx)("div",{className:"py-2.5 md:py-1.5 ",children:"Change Image"})}),(0,n.jsx)("input",{hidden:!0,onChange:g,accept:"image/*",type:"file",id:"file-input-change",style:{backgroundColor:"##45AAF8"}})]})})]})]})})}}}]);